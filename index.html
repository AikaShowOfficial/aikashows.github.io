<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIKA TERMINAL V2</title>
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-pink: #bc13fe;
            --neon-yellow: #ffea00;
            --screen-bg: #e0f7fa; /* –°–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–æ–π —Ñ–æ–Ω —ç–∫—Ä–∞–Ω–∞ –∫–∞–∫ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ */
            --body-bg: #050505;
            --frame-color: #1a237e; /* –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π –∫–æ—Ä–ø—É—Å */
        }

        * { box-sizing: border-box; }

        body {
            background-color: var(--body-bg);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            font-family: 'Arial Black', sans-serif;
            overflow: hidden;
        }

        /* –ö–û–†–ü–£–° –¢–ï–†–ú–ò–ù–ê–õ–ê */
        .terminal-body {
            background: var(--frame-color);
            width: 400px;
            padding: 20px;
            border-radius: 30px;
            border: 4px solid var(--neon-blue);
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.3), inset 0 0 20px rgba(0,0,0,0.5);
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* –ì–û–õ–û–í–ê –†–û–ë–û–¢–ê (–î–µ–∫–æ—Ä–∞—Ü–∏—è —Å–≤–µ—Ä—Ö—É) */
        .robot-head {
            width: 120px;
            height: 80px;
            background: #283593;
            border: 3px solid var(--neon-blue);
            border-radius: 15px;
            position: absolute;
            top: -90px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 15px var(--neon-blue);
        }
        /* –ì–ª–∞–∑–∞ —Ä–æ–±–æ—Ç–∞ */
        .robot-eyes {
            display: flex;
            gap: 15px;
        }
        .eye {
            width: 25px;
            height: 25px;
            background: var(--neon-cyan);
            box-shadow: 0 0 10px var(--neon-cyan);
        }
        /* –ê–Ω—Ç–µ–Ω–Ω—ã */
        .antenna {
            position: absolute;
            top: -30px;
            width: 4px;
            height: 30px;
            background: gray;
        }
        .antenna.left { left: 20px; transform: rotate(-20deg); }
        .antenna.right { right: 20px; transform: rotate(20deg); }
        .antenna::after {
            content: ''; position: absolute; top: -8px; left: -3px;
            width: 10px; height: 10px; background: var(--neon-yellow); border-radius: 50%;
            animation: blink 1s infinite alternate;
        }

        /* –≠–ö–†–ê–ù –°–õ–û–¢–û–í */
        .screen-container {
            background: var(--screen-bg);
            width: 100%;
            border-radius: 15px;
            padding: 10px;
            border: 3px solid var(--neon-blue);
            box-shadow: inset 0 0 20px rgba(0, 243, 255, 0.5);
            margin-bottom: 20px;
            position: relative;
        }

        /* –¢–ê–ë–õ–û –°–ß–ï–¢–ê */
        .score-board {
            background: #000;
            color: var(--neon-blue);
            font-family: 'Courier New', monospace;
            padding: 5px 10px;
            border-radius: 5px;
            text-align: center;
            margin-bottom: 10px;
            border: 1px solid var(--neon-blue);
            text-shadow: 0 0 5px var(--neon-blue);
            font-size: 1.2rem;
        }

        /* –°–ï–¢–ö–ê 3x3 */
        .grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }

        .slot {
            background: rgba(255, 255, 255, 0.6);
            height: 80px;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            border: 2px solid transparent;
            transition: 0.3s;
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç –ø–æ–±–µ–¥—ã –¥–ª—è —è—á–µ–π–∫–∏ */
        .slot.win {
            background: #fff;
            border-color: var(--neon-yellow);
            box-shadow: 0 0 15px var(--neon-yellow);
            transform: scale(1.05);
            z-index: 2;
        }

        /* –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø (–ù–ò–ó) */
        .control-panel {
            width: 100%;
            height: 80px;
            background: #111;
            border-top: 3px solid var(--neon-pink);
            border-radius: 0 0 20px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            /* –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å–ª–µ–≤–∞ */
            background-image: radial-gradient(circle at 20% 50%, #333 5px, transparent 6px),
                              radial-gradient(circle at 30% 50%, #333 5px, transparent 6px);
        }

        /* –ö–ù–û–ü–ö–ê –ó–ê–ü–£–°–ö–ê (–ñ–µ–ª—Ç–∞—è) */
        .spin-btn {
            width: 70px;
            height: 50px;
            background: var(--neon-yellow);
            border: none;
            border-radius: 10px;
            box-shadow: 0 5px 0 #b8860b, 0 0 15px var(--neon-yellow);
            cursor: pointer;
            position: relative;
            transition: 0.1s;
        }
        .spin-btn:active {
            transform: translateY(5px);
            box-shadow: 0 0 0 #b8860b, inset 0 0 10px rgba(0,0,0,0.5);
        }
        .spin-btn::after {
            content: 'PUSH';
            font-size: 0.7rem;
            font-weight: bold;
            color: #555;
        }

        /* --- –°–¢–ò–õ–ò –ò–ö–û–ù–û–ö --- */
        .item-500 { 
            color: var(--neon-yellow); 
            text-shadow: 2px 2px 0 #000;
            -webkit-text-stroke: 1px #b8860b; 
        }
        .item-error { 
            color: white; 
            background: red; 
            padding: 5px; 
            font-size: 0.8rem; 
            border: 2px solid black; 
            border-radius: 5px;
            line-height: 1;
            text-align: center;
        }
        .item-mem { 
            background: linear-gradient(90deg, red, orange, yellow, green, blue, violet); 
            -webkit-background-clip: text; 
            color: transparent; 
            font-weight: 900; 
            font-size: 1.2rem;
            text-shadow: 1px 1px 0 rgba(0,0,0,0.1);
        }
        .item-ban { 
            color: red; 
            font-family: 'Courier New', Courier, monospace; 
            font-weight: bold; 
            border: 2px solid red;
            padding: 0 5px;
            background: #fff;
        }
        .item-safe { font-size: 2.5rem; }
        .item-x2 { color: #0f0; text-shadow: 2px 2px 0 #000; font-style: italic; }

        @keyframes blink { 0% { opacity: 1; } 100% { opacity: 0.3; } }
    </style>
</head>
<body>

    <!-- –ö–û–†–ü–£–° -->
    <div class="terminal-body">
        
        <!-- –ì–û–õ–û–í–ê –†–û–ë–û–¢–ê -->
        <div class="robot-head">
            <div class="antenna left"></div>
            <div class="antenna right"></div>
            <div class="robot-eyes">
                <div class="eye" style="background:#00f3ff"></div>
                <div class="eye" style="background:#00f3ff"></div>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù -->
        <div class="screen-container">
            <div class="score-board" id="score">CREDITS: 0</div>
            
            <div class="grid" id="grid">
                <div class="slot"></div><div class="slot"></div><div class="slot"></div>
                <div class="slot"></div><div class="slot"></div><div class="slot"></div>
                <div class="slot"></div><div class="slot"></div><div class="slot"></div>
            </div>
        </div>

        <!-- –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø -->
        <div class="control-panel">
            <div style="color:#555; font-size:0.8rem;">SYSTEM<br>READY</div>
            <button class="spin-btn" onclick="spin()"></button>
        </div>

    </div>

    <script>
        // –ù–ê–°–¢–†–û–ô–ö–ò –ü–†–ï–î–ú–ï–¢–û–í
        const ITEMS = [
            { id: '500', html: '<span class="item-500">500‚ö°</span>', val: 500 },
            { id: '1000', html: '<span class="item-500">1K‚ö°</span>', val: 1000 },
            { id: '404', html: '<div class="item-error">404<br>ERR</div>', val: 0 },
            { id: 'MEM', html: '<span class="item-mem">MEM</span>', val: 50 },
            { id: 'BAN', html: '<span class="item-ban">–ë–ê–ù</span>', val: -100 },
            { id: 'SAFE', html: '<span class="item-safe">üóÑÔ∏è</span>', val: 2000 },
            { id: 'X2', html: '<span class="item-x2">X2</span>', val: 0 } // –ü–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –ø—É—Å—Ç—ã—à–∫–∞
        ];

        let isSpinning = false;
        let credits = 0;
        const slots = document.querySelectorAll('.slot');
        const scoreEl = document.getElementById('score');
        const btn = document.querySelector('.spin-btn');

        // –ó–≤—É–∫–æ–≤–æ–π –¥–≤–∏–∂–æ–∫ (–ø—Ä–æ—Å—Ç–æ–π –ø–∏—Å–∫)
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function beep(freq = 600, dur = 0.1, type = 'square') {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = type;
            osc.frequency.value = freq;
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            gain.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + dur);
            osc.stop(audioCtx.currentTime + dur);
        }

        // –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
        slots.forEach(s => s.innerHTML = getRandomItem().html);

        function getRandomItem() {
            return ITEMS[Math.floor(Math.random() * ITEMS.length)];
        }

        function spin() {
            if(isSpinning) return;
            isSpinning = true;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
            btn.style.transform = "translateY(5px)";
            btn.style.boxShadow = "0 0 0 #b8860b";
            setTimeout(() => {
                btn.style.transform = "";
                btn.style.boxShadow = "";
            }, 100);

            // –°–±—Ä–æ—Å –ø–æ–±–µ–¥–Ω–æ–π –ø–æ–¥—Å–≤–µ—Ç–∫–∏
            slots.forEach(s => s.classList.remove('win'));

            // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞
            let cycles = 0;
            const interval = setInterval(() => {
                slots.forEach(s => s.innerHTML = getRandomItem().html);
                beep(200 + Math.random()*200, 0.05); // –ó–≤—É–∫ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
                cycles++;
                if(cycles > 20) {
                    clearInterval(interval);
                    finalize();
                }
            }, 80);
        }

        function finalize() {
            isSpinning = false;
            const counts = {};
            const resultIds = [];

            // –§–∏–Ω–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
            slots.forEach((slot, index) => {
                const item = getRandomItem();
                slot.innerHTML = item.html;
                slot.dataset.id = item.id; // –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
                counts[item.id] = (counts[item.id] || 0) + 1;
            });

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–±–µ–¥—É (5 –∏ –±–æ–ª–µ–µ)
            let winId = null;
            for(let id in counts) {
                if(counts[id] >= 5) winId = id;
            }

            if(winId) {
                const winItem = ITEMS.find(i => i.id === winId);
                const winAmount = winItem.val;
                
                if(winAmount !== 0) {
                    credits += winAmount;
                    scoreEl.innerText = `WIN: ${winAmount}`;
                    scoreEl.style.color = "var(--neon-yellow)";
                    
                    // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø–æ–±–µ–¥–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
                    slots.forEach(s => {
                        if(s.dataset.id === winId) s.classList.add('win');
                    });

                    beep(800, 0.1, 'sawtooth'); // –ó–≤—É–∫ –ø–æ–±–µ–¥—ã
                    setTimeout(() => beep(1200, 0.2, 'sawtooth'), 100);

                    setTimeout(() => {
                        scoreEl.innerText = `CREDITS: ${credits}`;
                        scoreEl.style.color = "var(--neon-blue)";
                    }, 2000);
                }
            }
        }
    </script>
</body>
</html>
