<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIKA WORD HACKER</title>
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-pink: #bc13fe;
            --neon-yellow: #ffea00;
            --bg-dark: #050505;
            --letter-bg: #222;
            --letter-active: #fff;
        }

        * { box-sizing: border-box; }
        body {
            background-color: var(--bg-dark);
            font-family: 'Courier New', monospace;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow-x: hidden;
        }

        /* --- 1. –í–ï–†–•–ù–Ø–Ø –ß–ê–°–¢–¨: –°–õ–û–í–û --- */
        .game-area {
            width: 100%;
            padding: 20px;
            text-align: center;
            background: #111;
            border-bottom: 2px solid var(--neon-blue);
            margin-bottom: 30px;
        }

        h1 { color: var(--neon-pink); margin: 0 0 20px 0; text-shadow: 0 0 10px var(--neon-pink); }
        
        .hint-text { color: #aaa; margin-bottom: 20px; font-size: 1.2rem; font-style: italic; }

        .word-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .letter-box {
            width: 60px; height: 80px;
            background: var(--letter-bg);
            border: 2px solid #444;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3rem;
            color: transparent; /* –ë—É–∫–≤–∞ —Å–∫—Ä—ã—Ç–∞ */
            transition: 0.3s;
            cursor: default;
        }
        
        .letter-box.revealed {
            background: var(--neon-blue);
            color: black;
            border-color: white;
            box-shadow: 0 0 20px var(--neon-blue);
            transform: rotateY(360deg); /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–∞ */
            transition: 0.6s;
        }

        /* –ö–õ–ê–í–ò–ê–¢–£–†–ê (–í—Å–ø–ª—ã–≤–∞–µ—Ç –∫–æ–≥–¥–∞ –º–æ–∂–Ω–æ —É–≥–∞–¥–∞—Ç—å) */
        .keyboard {
            display: none; /* –°–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
            margin-top: 20px;
            gap: 5px;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 600px;
        }
        .keyboard.active { display: flex; }
        
        .key-btn {
            background: #333;
            border: 1px solid #555;
            color: white;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 1.2rem;
            text-transform: uppercase;
        }
        .key-btn:hover { background: #555; }
        .key-btn.used { opacity: 0.3; cursor: not-allowed; background: black; }

        /* –°–¢–ê–¢–£–° –•–û–î–ê */
        .turn-status {
            margin-top: 15px;
            font-size: 1.5rem;
            color: var(--neon-yellow);
            height: 30px;
        }


        /* --- 2. –ù–ò–ñ–ù–Ø–Ø –ß–ê–°–¢–¨: –¢–ï–†–ú–ò–ù–ê–õ (–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω —Å —É–ª—É—á—à–µ–Ω–∏–µ–º –º–∞—Å—à—Ç–∞–±–∞) --- */
        .terminal-wrapper {
            transform: scale(0.8); /* –ß—É—Ç—å —É–º–µ–Ω—å—à–∏–º, —á—Ç–æ–±—ã –≤–ª–µ–∑–ª–æ */
            margin-top: -20px;
        }

        /* (–°—é–¥–∞ –≤—Å—Ç–∞–≤–ª—è–µ–º CSS —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ –æ—Ç–≤–µ—Ç–∞, —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–æ) */
        .terminal-body {
            background: #1a237e; width: 400px; padding: 20px; border-radius: 30px;
            border: 4px solid var(--neon-blue); box-shadow: 0 0 30px rgba(0,243,255,0.3);
            position: relative; display: flex; flex-direction: column; align-items: center;
        }
        .terminal-body.banned { border-color: red; filter: grayscale(1); pointer-events: none; }
        
        .screen-container { background: #e0f7fa; width: 100%; border-radius: 15px; padding: 10px; border: 3px solid var(--neon-blue); margin-bottom: 20px; }
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        .slot { background: rgba(255,255,255,0.6); height: 70px; border-radius: 8px; display: flex; justify-content: center; align-items: center; font-size: 1.2rem; }
        .slot.win { background: #fff; border-color: var(--neon-yellow); transform: scale(1.05); box-shadow: 0 0 15px gold; }
        
        .spin-btn { width: 100%; height: 50px; background: var(--neon-yellow); border: none; border-radius: 10px; font-weight: bold; font-size: 1.2rem; cursor: pointer; }
        .spin-btn:disabled { background: #555; cursor: not-allowed; }

        /* –ò–∫–æ–Ω–∫–∏ */
        .item-500 { color: #ffea00; -webkit-text-stroke: 1px #b8860b; font-weight:900; font-size:1.3rem;}
        .item-err { background: red; color: white; padding: 2px; font-size: 0.7rem; }
        .item-ban { color: red; border: 2px solid red; background: white; font-weight: bold; }

    </style>
</head>
<body>

    <!-- –ó–û–ù–ê –ò–ì–†–´ -->
    <div class="game-area">
        <h1>WORD HACKER</h1>
        <div class="hint-text" id="hint">–ó–ê–ì–ê–î–ö–ê: –ì–ª–∞–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞?</div>
        
        <!-- –°–ª–æ–≤–æ -->
        <div class="word-container" id="wordDisplay">
            <!-- –ë—É–∫–≤—ã –≥–µ–Ω–µ—Ä—è—Ç—Å—è JS -->
        </div>

        <div class="turn-status" id="status">–ö–†–£–¢–ò –ë–ê–†–ê–ë–ê–ù!</div>

        <!-- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ -->
        <div class="keyboard" id="keyboard">
            <!-- –ö–Ω–æ–ø–∫–∏ –≥–µ–Ω–µ—Ä—è—Ç—Å—è JS -->
        </div>
    </div>

    <!-- –¢–ï–†–ú–ò–ù–ê–õ -->
    <div class="terminal-wrapper">
        <div class="terminal-body" id="terminal">
            <!-- –≠–∫—Ä–∞–Ω -->
            <div class="screen-container">
                <div class="grid" id="grid">
                    <div class="slot"></div><div class="slot"></div><div class="slot"></div>
                    <div class="slot"></div><div class="slot"></div><div class="slot"></div>
                    <div class="slot"></div><div class="slot"></div><div class="slot"></div>
                </div>
            </div>
            
            <button class="spin-btn" onclick="spin()">–í–ó–õ–û–ú–ê–¢–¨ –°–ò–°–¢–ï–ú–£</button>
        </div>
    </div>

    <script>
        // === –ö–û–ù–§–ò–ì –ò–ì–†–´ ===
        const WORD = "–ö–õ–ê–í–ò–ê–¢–£–†–ê"; // –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ
        const HINT = "–ß—Ç–æ —Ç—ã —Ç–æ–ø—á–µ—à—å –ø–∞–ª—å—Ü–∞–º–∏?";
        
        const ITEMS = [
            { id: 'TURN', html: '<span class="item-500">–•–û–î</span>', type: 'turn' },      // –í—ã–ø–∞–ª–æ –ø—Ä–∞–≤–æ —Ö–æ–¥–∞
            { id: 'SCORE', html: '<span class="item-500">+500</span>', type: 'score' },    // –û—á–∫–∏
            { id: 'BAN', html: '<span class="item-ban">–ë–ê–ù</span>', type: 'ban' },        // –ü—Ä–æ–ø—É—Å–∫
            { id: 'GIFT', html: 'üéÅ', type: 'gift' },
            { id: 'EMPTY', html: '---', type: 'empty' }
        ];

        // –ü–µ—Ä–µ–≤–µ—à–∏–≤–∞–µ–º —à–∞–Ω—Å—ã (—á—Ç–æ–±—ã –ë–ê–ù –ø–∞–¥–∞–ª —Ä–µ–∂–µ)
        // –í –º–∞—Å—Å–∏–≤–µ –±–æ–ª—å—à–µ 'TURN' –∏ 'EMPTY', –º–µ–Ω—å—à–µ 'BAN'
        const POOL = [
            ...Array(10).fill(ITEMS[0]), // 10 —à–∞–Ω—Å–æ–≤ –Ω–∞ –•–û–î
            ...Array(5).fill(ITEMS[1]),  // 5 —à–∞–Ω—Å–æ–≤ –Ω–∞ –û–ß–ö–ò
            ...Array(8).fill(ITEMS[4]),  // 8 –ø—É—Å—Ç—ã—à–µ–∫
            ITEMS[2], ITEMS[2],          // 2 –ë–ê–ù–ê
            ITEMS[3]                     // 1 –ü–û–î–ê–†–û–ö
        ];

        let gameState = {
            openedLetters: [],
            isSpinning: false,
            canGuess: false
        };

        // === –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ===
        document.getElementById('hint').innerText = `–ü–û–î–°–ö–ê–ó–ö–ê: ${HINT}`;
        
        // 1. –†–∏—Å—É–µ–º —Å–ª–æ–≤–æ
        const wordContainer = document.getElementById('wordDisplay');
        const letters = WORD.split('');
        
        letters.forEach((char, index) => {
            const div = document.createElement('div');
            div.className = 'letter-box';
            div.dataset.char = char;
            div.id = `letter-${index}`;
            wordContainer.appendChild(div);
        });

        // 2. –†–∏—Å—É–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
        const kbd = document.getElementById('keyboard');
        const alphabet = "–ê–ë–í–ì–î–ï–ñ–ó–ò–ô–ö–õ–ú–ù–û–ü–†–°–¢–£–§–•–¶–ß–®–©–™–´–¨–≠–Æ–Ø";
        alphabet.split('').forEach(char => {
            const btn = document.createElement('button');
            btn.className = 'key-btn';
            btn.innerText = char;
            btn.onclick = () => guessLetter(char, btn);
            kbd.appendChild(btn);
        });

        // 3. –ó–∞–ø–æ–ª–Ω—è–µ–º —Å–ª–æ—Ç—ã –Ω–∞—á–∞–ª—å–Ω–æ
        const slots = document.querySelectorAll('.slot');
        slots.forEach(s => s.innerHTML = getRandomItem().html);


        // === –õ–û–ì–ò–ö–ê ===
        function getRandomItem() {
            return POOL[Math.floor(Math.random() * POOL.length)];
        }

        function spin() {
            if(gameState.isSpinning || gameState.canGuess) return;
            gameState.isSpinning = true;
            document.getElementById('status').innerText = "–í–´–ß–ò–°–õ–ï–ù–ò–ï...";
            document.getElementById('status').style.color = "var(--neon-blue)";

            // –ê–Ω–∏–º–∞—Ü–∏—è
            let cycles = 0;
            const interval = setInterval(() => {
                slots.forEach(s => s.innerHTML = getRandomItem().html);
                cycles++;
                if(cycles > 15) {
                    clearInterval(interval);
                    finalizeSpin();
                }
            }, 80);
        }

        function finalizeSpin() {
            gameState.isSpinning = false;
            
            // –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã: —Å—á–∏—Ç–∞–µ–º, —á—Ç–æ –≤—ã–ø–∞–ª–æ —Ç–æ, —á–µ–≥–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
            // –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ä–∞–Ω–¥–æ–º–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–±—ã—Ç–∏—è
            const result = POOL[Math.floor(Math.random() * POOL.length)]; // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ "–∫–æ–ª–µ—Å–∞"
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –≤—Å–µ—Ö —Å–ª–æ—Ç–∞—Ö –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞
            slots.forEach(s => s.innerHTML = result.html);

            handleResult(result);
        }

        function handleResult(item) {
            const status = document.getElementById('status');
            
            if(item.type === 'turn' || item.type === 'score') {
                status.innerText = "–ë–£–ö–í–ê! –í–´–ë–ò–†–ê–ô –ù–ê –ö–õ–ê–í–ò–ê–¢–£–†–ï";
                status.style.color = "#0f0";
                enableKeyboard(true);
            } 
            else if (item.type === 'ban') {
                status.innerText = "–ë–ê–ù! –ü–†–û–ü–£–°–ö –•–û–î–ê";
                status.style.color = "red";
                // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 2 —Å–µ–∫
                setTimeout(() => { status.innerText = "–ö–†–£–¢–ò –ï–©–ï –†–ê–ó"; status.style.color = "yellow"; }, 2000);
            }
            else if (item.type === 'gift') {
                status.innerText = "–ü–†–ò–ó! –û–¢–ö–†–´–í–ê–Æ –ë–£–ö–í–£!";
                // –û—Ç–∫—Ä—ã–≤–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é –∑–∞–∫—Ä—ã—Ç—É—é –±—É–∫–≤—É
                openRandomLetter();
            }
            else {
                status.innerText = "–ü–£–°–¢–û... –ö–†–£–¢–ò –°–ù–û–í–ê";
                status.style.color = "#aaa";
            }
        }

        function enableKeyboard(enable) {
            gameState.canGuess = enable;
            const kbd = document.getElementById('keyboard');
            if(enable) kbd.classList.add('active');
            else kbd.classList.remove('active');
        }

        function guessLetter(char, btn) {
            if(!gameState.canGuess) return;
            
            btn.classList.add('used');
            btn.disabled = true;
            
            let found = false;
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –±—É–∫–≤—É
            letters.forEach((l, i) => {
                if(l === char) {
                    const box = document.getElementById(`letter-${i}`);
                    box.innerText = char;
                    box.classList.add('revealed');
                    gameState.openedLetters.push(i);
                    found = true;
                }
            });

            const status = document.getElementById('status');
            if(found) {
                status.innerText = "–ï–°–¢–¨ –¢–ê–ö–ê–Ø –ë–£–ö–í–ê!";
                checkWin();
            } else {
                status.innerText = "–ù–ï–¢ –¢–ê–ö–û–ô –ë–£–ö–í–´...";
            }

            // –ó–∞–≤–µ—Ä—à–∞–µ–º —Ö–æ–¥
            enableKeyboard(false);
            
            // –ï—Å–ª–∏ –Ω–µ –≤—ã–∏–≥—Ä–∞–ª, –¥–∞–µ–º –∫—Ä—É—Ç–∏—Ç—å –¥–∞–ª—å—à–µ
            if(gameState.openedLetters.length < letters.length) {
                 setTimeout(() => { 
                     if(!gameState.isSpinning) status.innerText = "–ö–†–£–¢–ò –î–ê–õ–¨–®–ï"; 
                 }, 1500);
            }
        }

        function openRandomLetter() {
            // –ù–∞—Ö–æ–¥–∏–º –∏–Ω–¥–µ–∫—Å—ã –∑–∞–∫—Ä—ã—Ç—ã—Ö –±—É–∫–≤
            let closedIndices = [];
            letters.forEach((_, i) => {
                if(!gameState.openedLetters.includes(i)) closedIndices.push(i);
            });

            if(closedIndices.length > 0) {
                const randIndex = closedIndices[Math.floor(Math.random() * closedIndices.length)];
                const char = letters[randIndex];
                
                const box = document.getElementById(`letter-${randIndex}`);
                box.innerText = char;
                box.classList.add('revealed');
                gameState.openedLetters.push(randIndex);
                checkWin();
            }
        }

        function checkWin() {
            // –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –±—É–∫–≤—ã –≤ —Å–ª–æ–≤–µ
            const uniqueChars = new Set(letters).size;
            // –ú—ã –Ω–µ –º–æ–∂–µ–º –ø—Ä–æ—Å—Ç–æ —Å—Ä–∞–≤–Ω–∏—Ç—å –¥–ª–∏–Ω—É, —Ç–∞–∫ –∫–∞–∫ –æ–¥–Ω–∞ –±—É–∫–≤–∞ –º–æ–∂–µ—Ç –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è 2 —Ä–∞–∑–∞
            // –ü—Ä–æ—â–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –∑–∞–∫—Ä—ã—Ç—ã–µ –±–ª–æ–∫–∏
            const allRevealed = Array.from(document.querySelectorAll('.letter-box')).every(b => b.classList.contains('revealed'));
            
            if(allRevealed) {
                document.getElementById('status').innerText = "–ü–û–ë–ï–î–ê! –°–ò–°–¢–ï–ú–ê –í–ó–õ–û–ú–ê–ù–ê!";
                document.getElementById('status').style.color = "var(--neon-pink)";
                document.querySelector('.spin-btn').disabled = true;
                
                // –§–µ–π–µ—Ä–≤–µ—Ä–∫ –∏–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç
                document.body.style.background = "#220022";
            }
        }

    </script>
</body>
</html>
